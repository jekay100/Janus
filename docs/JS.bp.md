#JavaScript最佳实践
##目录
* 避免糟粕和鸡肋
* 可能有坑的方法
* 良好的编码习惯
* 更为优雅的方式

##避免糟粕和鸡肋
糟粕：JS的一些存在问题却难以避免的功能特性
鸡肋：JS还存在一些有问题的特性，但我们很容易避过他们

###全局变量

全局变量和全局函数是非常糟糕的。因为在一个页面中包含的所有JavaScript都在同一个域中运行。
所以如果你的代码中声明了全局变量或者全局函数的话，
后面的代码中载入的脚本文件中的同名变量和函数会覆盖掉（overwrite）你的全局变量。

>**解决方式**

>最小全局变量(Minimizing Globals)
JavaScript通过函数管理作用域。在函数内部声明的变量只在这个函数内部，函数外面不可用。
另一方面，全局变量就是在任何函数外面声明的或是未声明直接简单使用的。
```
var globa = {};
var globa = function(){}
```

###作用域

JS与C等其他语言类似，是基于块级（{}），但却没有块级作用域；
块级作用域在于块级内声明的变量，外部是不可见的，
但是在JS中，块级声明的变量在包含此块级的函数的任何位置均是可见的，
这是其他语言是不可想象的
**虽然EC6中会改变此状态，会添加块级变量声明 let **

>**解决方式**
>在每个函数开头声明变量

###保留字

在JS设计之初借鉴的许多语言（C,java,python,ruby等）
所以保留了许多保留字
但这些保留字大多数并没有在语言中用到
他们不能用作参数名，或字面量的属性值

>**解决方式**
>加引号设置参数名，调用的时候用挂号调用法
>当然最佳的方法是不用它

```
var obj = { case: '编写JS最佳实践'};  ==> 这是错误的
var obj = { 'case': '编写JS最佳实践'}; ==> 这是对的
obj.case ==>这是错误的
obj['case'] ==> 这是对的

```

###undefined

undefined 是缺失的成员的值，但它不是个常量，是个全局变量
你可以改变它的值
```
var undefined=8;
(function(window){ 
console.debug(window.undefined); //8
console.debug(undefined); //8
})(window);
```
>**解决方式**
>避免去修改其值
>EC5.1 已修正

```
/** 最优实现 */
(function( window, undefined){
    /* 在这个区域开始你的代码 */
})( window );
```

##可能有坑的方法
>在JS提供的原生方法中，有一些方法可能会与设计该方法的愿意有些偏差，
又或者会造成内存溢出
又或造成JS处理器处理过慢
** 当碰到这些方法的时候，我们的原则是避开他，或者重构其方法 **

###parseInt

parseInt 是将字符串转为整数的方法
它遇到非数字的字符时停止解析
parseInt('16') 与 parseInt('16asshs')会返回相同的结果
它不会提醒我们出现格外的文本
更让我们郁闷的是 parseInt("08") 与 parseInt("09")
当字符串是以08，09开始的时候，会转为8进制计算
所以 parseInt("08") = parseInt("09") = 0; 

>**解决方式**
>针对 0 开头的字符串，使用时加上进制参数  parseInt( "08", 10 )
>EC5.1 已修正

###with

with的本意是想用来快捷的访问对象的属性，
不幸的是它的结果有的时候是不可预料的

```
with( obj ){
    a = b
}
```
它等于下面语句的任意一条
```
a = b;
a = obj.b;
obj.a = obj.b;
obj.a = b;
```

###eval





